<div class="row header-bar">
  <div class="row">
    <div class="col-sm-12">
      <div data-block="search-filter"></div>
    </div>
  </div>

  <div class="col-sm-3">
    <div class="input-group input-group">
      <input type="text"
             class="form-control"
             placeholder="{{ 'Filter...' | translate }}"
             bst-on-enter="table.search(table.searchTerm)"
             ng-model="table.searchTerm"
             ng-trim="false"
             typeahead="item.label for item in table.autocomplete($viewValue)"
             typeahead-empty
             typeahead-template-url="components/views/autocomplete-scoped-search.html"/>
        <span class="input-group-btn">
          <button class="btn btn-default"
                  type="button"
                  ng-click='table.search("") && (table.searchCompleted = false)'
                  ng-show="table.searchCompleted && table.searchTerm">
            <i class="fa fa-times"></i>
          </button>
          <button ng-click="table.search(table.searchTerm)" class="btn btn-default" type="button">
            <i class="fa fa-search"></i>
            <span translate>Search</span>
          </button>
          <button class="btn btn-default dropdown-toggle" data-toggle="dropdown">
            <i class="fa fa-caret-down"></i>
          </button>
          <ul bst-bookmark controller-name="controllerName" query="table.searchTerm" class="dropdown-menu pull-right"></ul>
        </span>
    </div>
  </div>

  <div class="col-sm-3">
    <span translate>Showing {{ table.rows.length }} of {{ table.resource.subtotal }} ({{ table.resource.total }} Total)</span>
  </div>

  <div class="fr">
    <div class="fl">
      <div data-block="list-actions"></div>
    </div>
  </div>
</div>

<div class="row header-bar" ng-show="table.rowSelect">
  <div class="fr">
    <span translate>{{ table.numSelected }} Selected</span>
  </div>
  <div class="col-sm-5">
    <span data-block="filters"></span>
  </div>
</div>

<div class="row nutupane" bst-table="table" nutupane-table>
  <div class="loading-mask" ng-show="table.refreshing" >
    <i class="fa fa-spinner fa-spin"></i>
    <span>{{ "Loading..." | translate }}</span>
  </div>

  <p bst-alert="info" ng-show="table.rows.length === 0 && !table.working && !table.searchTerm && !table.searchCompleted">
    <span data-block="no-rows-message"></span>
  </p>
  <p bst-alert="info" ng-show="table.rows.length === 0 && !table.working && (table.searchTerm || table.searchCompleted)">
    <span data-block="no-search-results-message"></span>
  </p>

  <div ng-show="table.rows.length > 0" bst-container-scroll data="table.rows">
    <div infinite-scroll="table.nextPage()" infinite-scroll-container="'.container-scroll-wrapper'"
         infinite-scroll-listen-for-event="nutupane:loaded">
      <div data-block="table"></div>
    </div>
  </div>
</div>